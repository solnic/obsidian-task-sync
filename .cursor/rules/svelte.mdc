---
id: cursor-rule-svelte
title: Svelte 5 Guidelines
scope: project
severity: suggestion
description: "Svelte 5 best practices (state, runes, effects, context, props, bindings), applies to all Svelte code in src/tests."
globs: ["src/**/*", "tests/**/*"]
alwaysApply: false
tags:
  - svelte
  - state
  - effects
  - props
---

# Svelte 5 Guidelines (Stores, Runes, Effects)

## State Management

- **Prefer runes** (`$state`, `$derived`) for all simple and most complex state
- Only use **stores** for async flows/3rd party integration patterns or when manual subscription control is required

## Derived State

- Use `$derived` for all computed/derived state
- Use `$derived.by` for multi-step or non-expressive derivations

## Props & Binding

- Prefer event callbacks to communicate parent→child; use `$bindable` only for true two-way binding needs
- Always type props properly with TypeScript

## Effects

- Use `$effect` only for true side effects (DOM, timers, API—not for value computation)
- Always cleanup side effects properly
- Never use effects for reactive calculation (always use `$derived` instead)

## Complex State Objects

- Use runes with direct mutation, not immutable patterns, for complex setting/state objects
- Extract focused derived slices for component use
- Consider context if deep prop drilling required

---

<!--
Origin: .augment/rules/6-svelte-5-guidelines.md
-->
